<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="rps.css">
        <title> 미니 게임 - 가위 바위 보</title>
    </head>
    <body>
        <div class="play-div">
            <div class="result-div">
                <div class="user-div">
                    <div class="user-result-text-box">
                        <div style="margin-right: 20px;">상대</div>
                        <div id="userSelectedDiv"></div>
                    </div>
                    <img id="userSelectedImg" />
                </div>
                <div class="my-div">
                    <img id="mySelectedImg" />
                    <div class="my-result-text-box">
                        <div style="margin-right: 20px;">나</div>
                        <div id="mySelectedDiv"></div>
                    </div>
                </div>
            </div>
            <div class="select-div">
                <img class="rps-image" src="./images/scissors.png" onclick="rpsStart(0)" />
                <img class="rps-image" src="./images/rock.png" onclick="rpsStart(1)" />
                <img class="rps-image" src="./images/paper.png" onclick="rpsStart(2)" />
            </div>
        </div>
        <script>
            const com_result = () => {
                const userSelectedImage = document.getElementById('userSelectedImg');
                const result = Math.floor(Math.random() * 3);

                // userSelectedImage.src = result === 0 ? './images/scissors.png' : result === 1 ? './images/rock.png' : './images/paper.png';

                if(result === 0) userSelectedImage.src = './images/scissors.png';
                else if(result === 1) userSelectedImage.src = './images/rock.png';
                else if(result === 2) userSelectedImage.src = './images/paper.png';

                userSelectedImage.style.width = '150px';
                userSelectedImage.style.height = '150px';

                return result;
            }

            const showSelectedValue = (selectedValue) => {
                const mySelectedImage = document.getElementById('mySelectedImg');

                // mySelectedImage.src = selectedValue === 'scissors' ? './images/scissors.png' : selectedValue === 'rock' ? './images/rock.png' : './images/paper.png';

                if(selectedValue === 0) mySelectedImage.src = './images/scissors.png';
                else if(selectedValue === 1) mySelectedImage.src = './images/rock.png';
                else if(selectedValue === 2) mySelectedImage.src = './images/paper.png';

                mySelectedImage.style.width = '150px';
                mySelectedImage.style.height = '150px';
            }

            const rps_result = (userRes, myRes) => {
                const mySelectedDiv = document.getElementById('mySelectedDiv');
                const userSelectedDiv = document.getElementById('userSelectedDiv');

                if(myRes === userRes) {
                    mySelectedDiv.innerText = '무승부';
                    userSelectedDiv.innerText = '무승부';
                }
                else {
                    if(myRes === 0 && userRes === 1) {
                        mySelectedDiv.innerText = '졌다';
                        userSelectedDiv.innerText = '이겼다';
                    }
                    else if(myRes === 0 && userRes === 2) {
                        mySelectedDiv.innerText = '이겼다';
                        userSelectedDiv.innerText = '졌다';
                    }
                    else if(myRes === 1 && userRes === 2) {
                        mySelectedDiv.innerText = '졌다';
                        userSelectedDiv.innerText = '이겼다';
                    }
                    else if(myRes === 1 && userRes === 0) {
                        mySelectedDiv.innerText = '이겼다';
                        userSelectedDiv.innerText = '졌다';
                    }
                    else if(myRes === 2 && userRes === 0) {
                        mySelectedDiv.innerText = '졌다';
                        userSelectedDiv.innerText = '이겼다';
                    }
                    else if(myRes === 2 && userRes === 1) {
                        mySelectedDiv.innerText = '이겼다';
                        userSelectedDiv.innerText = '졌다';
                    }
                }
            }

            const rpsStart = (selectedValue) => {
                const result = com_result();
                showSelectedValue(selectedValue);
                rps_result(result, selectedValue);
            }
        </script>
    </body>
</html>