<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="rps.css">
        <title> 미니 게임 - 가위 바위 보</title>
    </head>
    <body>
        <div class="play-div">
            <div class="result-div">
                <div class="user-div">
                    <div class="user-result-text-box">
                        <div style="margin-right: 20px;">상대</div>
                        <div id="userSelectedDiv"></div>
                    </div>
                    <img id="userSelectedImg" />
                </div>
                <div class="my-div">
                    <img id="mySelectedImg" />
                    <div class="my-result-text-box">
                        <div style="margin-right: 20px;">나</div>
                        <div id="mySelectedDiv"></div>
                    </div>
                </div>
            </div>
            <div class="select-div">
                <img class="rps-image" src="./images/scissors.png" onclick="showSelectedValue('scissors');com_result();rps_result();" alt="scissors" />
                <img class="rps-image" src="./images/rock.png" onclick="showSelectedValue('rock');com_result();rps_result();" alt="rock" />
                <img class="rps-image" src="./images/paper.png" onclick="showSelectedValue('paper');com_result();rps_result();" alt="paper" />
            </div>
        </div>
        <script>
            const com_result = () => {
                const userSelectedImage = document.getElementById('userSelectedImg');
                const result = Math.floor(Math.random() * 3);

                // const src = result === 0 ? './images/scissors.png' : result === 1 ? './images/rock.png' : './images/paper.png';
                // const alt = result === 0 ? 'scissors' : result === 1 ? 'rock' : 'paper';

                // userSelectedImage.src = src;
                // userSelectedImage.alt = alt;

                if(result === 0) {
                    userSelectedImage.src = './images/scissors.png';
                    userSelectedImage.alt = 'scissors';
                }
                else if(result === 1) {
                    userSelectedImage.src = './images/rock.png';
                    userSelectedImage.alt = 'rock';
                }
                else if(result === 2) {
                    userSelectedImage.src = './images/paper.png';
                    userSelectedImage.alt = 'paper';
                }

                userSelectedImage.style.width = '150px';
                userSelectedImage.style.height = '150px';
            }

            const showSelectedValue = (selectedValue) => {
                const mySelectedImage = document.getElementById('mySelectedImg');

                // const src = selectedValue === 'scissors' ? './images/scissors.png' : selectedValue === 'rock' ? './images/rock.png' : './images/paper.png';
                // const alt = selectedValue === 'scissors' ? 'scissors' : selectedValue === 'rock' ? 'rock' : 'paper';

                // mySelectedImage.src = src;
                // mySelectedImage.alt = alt;

                if(selectedValue === 'scissors') {
                    mySelectedImage.src = './images/scissors.png';
                    mySelectedImage.alt = 'scissors';
                }
                else if(selectedValue === 'rock') {
                    mySelectedImage.src = './images/rock.png';
                    mySelectedImage.alt = 'rock';
                }
                else if(selectedValue === 'paper') {
                    mySelectedImage.src = './images/paper.png';
                    mySelectedImage.alt = 'paper';
                }

                mySelectedImage.style.width = '150px';
                mySelectedImage.style.height = '150px';
            }

            const rps_result = () => {
                const mySelectedImage = document.getElementById('mySelectedImg');
                const mySelectedDiv = document.getElementById('mySelectedDiv');

                const userSelectedImage = document.getElementById('userSelectedImg');
                const userSelectedDiv = document.getElementById('userSelectedDiv');

                if(mySelectedImage.alt === userSelectedImage.alt) {
                    mySelectedDiv.innerText = '무승부';
                    userSelectedDiv.innerText = '무승부';
                }
                else {
                    if(mySelectedImage.alt === 'scissors' && userSelectedImage.alt === 'rock') {
                        mySelectedDiv.innerText = '졌다';
                        userSelectedDiv.innerText = '이겼다';
                    }
                    else if(mySelectedImage.alt === 'scissors' && userSelectedImage.alt === 'paper') {
                        mySelectedDiv.innerText = '이겼다';
                        userSelectedDiv.innerText = '졌다';
                    }
                    else if(mySelectedImage.alt === 'rock' && userSelectedImage.alt === 'paper') {
                        mySelectedDiv.innerText = '졌다';
                        userSelectedDiv.innerText = '이겼다';
                    }
                    else if(mySelectedImage.alt === 'rock' && userSelectedImage.alt === 'scissors') {
                        mySelectedDiv.innerText = '이겼다';
                        userSelectedDiv.innerText = '졌다';
                    }
                    else if(mySelectedImage.alt === 'paper' && userSelectedImage.alt === 'scissors') {
                        mySelectedDiv.innerText = '졌다';
                        userSelectedDiv.innerText = '이겼다';
                    }
                    else if(mySelectedImage.alt === 'paper' && userSelectedImage.alt === 'rock') {
                        mySelectedDiv.innerText = '이겼다';
                        userSelectedDiv.innerText = '졌다';
                    }
                }
            }
        </script>
    </body>
</html>